<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Tree View -->
    <record id="view_sale_order_service_line_tree" model="ir.ui.view">
        <field name="name">sale.order.service.line.tree</field>
        <field name="model">sale.order.service.line</field>
        <field name="arch" type="xml">
            <tree string="Service Lines">
                <field name="name"/>
                <field name="partner_id"/>
                <field name="hr_job_id"/>
                <field name="candidate_type"/>
                <field name="contract_type"/>
                <field name="experience_level"/>
                <field name="package"/>
                <field name="net_monthly_salary"/>
                <field name="total_monthly_cost"/>
                <field name="monthly_po_sar_with_vat"/>
                <field name="yearly_employee_cost"/>
            </tree></field>
    </record>
    <!-- Form View -->
    <record id="view_sale_order_service_line_form" model="ir.ui.view">
        <field name="name">sale.order.service.line.form</field>
        <field name="model">sale.order.service.line</field>
        <field name="arch" type="xml">
            <form string="Service Line">
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="partner_id"/>
                            <field name="hr_job_id"/>
                            <field name="candidate_type"/>
                            <field name="nationality_id"/>
                            <field name="contract_type"/>
                            <field name="marital"/>
                            <field name="experience_level"/>
                        </group>
                        <group>
                            <field name="package"/>
                            <field name="invoice_period"/>
                            <field name="net_monthly_salary"/>
                            <field name="total_monthly_cost"/>
                            <field name="yearly_employee_cost"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Salary Details">
                            <group>
                                <group string="Basic Salary Components">
                                    <field name="basic"/>
                                    <field name="housing"/>
                                    <field name="transportation"/>
                                    <field name="vac_salary"/>
                                    <field name="end_of_service"/>
                                </group>
                                <group string="Health Insurance">
                                    <field name="employee_health"/>
                                    <field name="spouse_health_insurance"/>
                                    <field name="kids_health_insurance"/>
                                </group>
                            </group>
                            <group>
                                <group string="Travel Benefits">
                                    <field name="employee_annual_flight_ticket"/>
                                    <field name="wife_annual_flight_ticket"/>
                                    <field name="child_flight_ticket"/>
                                </group>
                                <group string="Government Fees">
                                    <field name="gosi"/>
                                    <field name="saudization"/>
                                    <field invisible="candidate_type" name="iqama_fees"/>
                                    <field invisible="candidate_type" name="iqama_transfer_fees"/>
                                    <field invisible="candidate_type" name="mobilization_cost"/>
                                    <field invisible="candidate_type" name="ajeer"/>
                                    <field invisible="candidate_type" name="exit_reentry"/>
                                    <field invisible="candidate_type" name="profile_fees"/>
                                </group>
                            </group>
                        </page>
                        <page string="Purchase Order Details">
                            <group>
                                <group string="PO Calculations">
                                    <field name="monthly_po_without_margin"/>
                                    <field name="monthly_flint_margin"/>
                                    <field name="monthly_po_sar_without_vat"/>
                                    <field name="monthly_po_sar_with_vat"/>
                                </group>
                            </group>
                        </page>
                        <page string="Job Description">
                            <field name="job_description"/>
                        </page>
                    </notebook>
                </sheet>
            </form></field>
    </record>
    <!-- Search View -->
    <record id="view_sale_order_service_line_search" model="ir.ui.view">
        <field name="name">sale.order.service.line.search</field>
        <field name="model">sale.order.service.line</field>
        <field name="arch" type="xml">
            <search string="Service Lines">
                <field name="name"/>
                <field name="partner_id"/>
                <field name="hr_job_id"/>
                <field name="nationality_id"/>
                <separator/>
                <filter domain="[('candidate_type', '=', 'saudi_local')]" name="saudi_local" string="Saudi Locals"/>
                <filter domain="[('candidate_type', '=', 'no_saudi')]" name="no_saudi" string="Non-Saudi"/>
                <separator/>
                <filter domain="[('contract_type', '=', 'permanent')]" name="permanent" string="Permanent Roles"/>
                <filter domain="[('contract_type', '=', 'contracted')]" name="contracted" string="Contract through Flint"/>
                <group expand="0" string="Group By">
                    <filter context="{'group_by': 'partner_id'}" name="group_by_partner" string="Client"/>
                    <filter context="{'group_by': 'hr_job_id'}" name="group_by_job" string="Job Title"/>
                    <filter context="{'group_by': 'candidate_type'}" name="group_by_candidate_type" string="Candidate Type"/>
                    <filter context="{'group_by': 'contract_type'}" name="group_by_contract_type" string="Contract Type"/>
                    <filter context="{'group_by': 'experience_level'}" name="group_by_experience" string="Experience Level"/>
                </group>
            </search></field>
    </record>
    <!-- Action -->
    <record id="action_sale_order_service_line" model="ir.actions.act_window">
        <field name="name">Service Lines</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order.service.line</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_sale_order_service_line_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first service line!
            </p></field>
    </record>
    <!-- Menu Item -->
    <menuitem action="action_sale_order_service_line" id="menu_sale_order_service_line" name="Service Lines" parent="sale.sale_order_menu" sequence="20"/>
</odoo>
